{"version":3,"sources":["services/phoneservice.js","components/notification.js","components/errorMessage.js","App.js","index.js"],"names":["baseURL","phoneservice","axios","get","then","response","data","newcontact","post","id","delete","concat","AddedMessage","_ref","message","react_default","a","createElement","className","ErrorMessage","error","App","_useState","useState","_useState2","Object","slicedToArray","newName","setNewName","_useState3","_useState4","newNumber","setNumber","_useState5","_useState6","filter","setFilter","_useState7","_useState8","persons","setPersons","_useState9","_useState10","addedMessage","setAddedMessage","_useState11","_useState12","errorMessage","setErrorMessage","useEffect","phoneall","notification","components_errorMessage","value","onChange","event","target","onSubmit","preventDefault","name","number","newphone","setTimeout","catch","type","person","toLowerCase","includes","map","index","onClick","window","confirm","console","log","newpersons","element","JSON","stringify","deletePerson","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.32eaaad5.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseURL = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseURL).then(response => response.data)\r\n}\r\n\r\nconst create = newcontact => {\r\n    return axios.post(baseURL, newcontact).then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    return axios.delete(`${baseURL}/${id}`).then(response => response.data)\r\n}\r\n\r\nconst update = (id, newcontact) => {\r\n    return axios.put(`${baseURL}/${id}`, newcontact).then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst AddedMessage = ({message}) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    return (\r\n        <div className = \"message\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddedMessage","import React from 'react';\r\n\r\nconst ErrorMessage = ({error}) => {\r\n    if (error === null) {\r\n        return null\r\n    }\r\n    else {\r\n        return (\r\n            <div className = \"errorMessage\">\r\n                {error}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ErrorMessage","import React, { useState, useEffect } from 'react'\r\nimport phoneservice from './services/phoneservice'\r\nimport AddedMessage from './components/notification'\r\nimport ErrorMessage from './components/errorMessage'\r\n\r\nconst App = () => {\r\n\r\n  const [ newName, setNewName ] = useState('')\r\n\r\n  const [newNumber, setNumber] = useState('')\r\n\r\n  const [filter, setFilter] = useState('')\r\n\r\n  const [ persons, setPersons] = useState([])\r\n\r\n  const [addedMessage, setAddedMessage] = useState(null)\r\n\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n  const deletePerson = (person) => {\r\n    if (window.confirm(`Delete ${person.name}?`)) {\r\n      phoneservice.remove(person.id)\r\n      .then(message => {\r\n        console.log(`${person.name} deleted with message: `, message)\r\n        const newpersons = persons.filter(element => JSON.stringify(element) !== JSON.stringify(person))\r\n        setPersons(newpersons)\r\n        setNumber('')\r\n        setFilter('')\r\n      })\r\n      .catch(error => console.log(error))\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    phoneservice.getAll()\r\n    .then(phoneall => setPersons(phoneall))\r\n  }, [])\r\n\r\n  const namesToShow = () => persons.filter(person => person.name.toLowerCase()\r\n                            .includes(filter.toLowerCase()))\r\n                            .map((person, index) => <p id = {index}>{person.name} {person.number} <button onClick = {() => deletePerson(person)}>delete</button></p>)\r\n  \r\n  const addNewName = (event) => {\r\n      event.preventDefault()\r\n      const newPerson = {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n      phoneservice.create(newPerson)\r\n      .then(newphone => {\r\n        setPersons(persons.concat(newphone))\r\n        setNumber('')\r\n        setNewName('')\r\n        setAddedMessage(`Added ${newphone.name}`)\r\n        setTimeout(() => setAddedMessage(null), 2000)\r\n      })\r\n      .catch(error => {\r\n        setErrorMessage(error.message)\r\n        setTimeout(() => setErrorMessage(null), 2000)\r\n      })\r\n  }\r\n\r\n  const handleNewName = (event) => {\r\n      setNewName(event.target.value)\r\n  }\r\n  const handleNewNumber = (event) => {\r\n      setNumber(event.target.value)\r\n  }\r\n  const handleFilter = (event) => {\r\n      setFilter(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <AddedMessage message = {addedMessage} />\r\n      <ErrorMessage error = {errorMessage} />\r\n      <div>\r\n        filter shown with: <input value = {filter} onChange = {handleFilter} />\r\n      </div>\r\n      <form onSubmit = {addNewName}>\r\n        <h2>Add a new</h2>\r\n        <div>\r\n          name: <input value = {newName} onChange = {handleNewName} />\r\n        </div>\r\n        <div>\r\n            phone: <input value = {newNumber} onChange = {handleNewNumber} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n      <h2>Numbers</h2>\r\n      <div>\r\n          {namesToShow()}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById(\"root\"))"],"sourceRoot":""}